{% extends 'blog/base.html' %}
{% from 'blog/_macro.html' import info,blog_content %}

{% block item -%}
<ul class="media-list">
  {%- for blog in blogs.items -%}
  <li class="media blog">
    <h3><a href="{{ url_for('blog.blog',blogId=blog.id) }}">{{ blog.title }}</a></h3>
    <hr style="max-width:none" />
    <div class="media-left">
      {{ info(blog) }}
    </div>
    <div class="media-body" style="width: 79%;">
      <span class="blog-content text-left">
        {{ blog_content(blog) }}
      </span>
      <div class="media-footer text-right" style="margin-top:auto;display:block;text-align:right;width:100%;">
        <a href="{{ url_for('blog.blog',blogId=blog.id) }}">read more</a>
      </div>
    </div>
  </li>
  {% endfor -%}
  {% set category = request.args.get('category') %}
  {% set tag = request.args.get('tag') %}
  {% set author = request.args.get('author') %}
  {{ paginate(blogs,'blog.bloglist',dict(category=category,tag=tag,author=author)) }}
</ul>
{% endblock %}
